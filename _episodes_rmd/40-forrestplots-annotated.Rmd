---
title: "Forrest plots"
teaching: 0
exercises: 0
questions: 
- "FIXME"

objectives:
- "FIXME"

keypoints:
- "FIXME"
source: Rmd
---

```{r, include = FALSE}
source("../bin/chunk-options.R")
knitr_fig_path("40-")
library(tidyverse)
library(patchwork)
library(knitr)
library(scales)
library(palmerpenguins)
```

## hvad er de?
Forrest plots (der ikke har noget med skove at gøre) er 
plots der viser 
## Hvordan laver man dem?

annoteret

vi vil godt have p-værdier på dem. 
så vi starter med at få trukket data ud på de forskellige modeller. Her er noget
data vi har forberedt på forhånd. Der er fem modeller, der er estimater, lav og høj 
ende af konfidensintervallerne, p-værdier. Og (den naturlige) logaritme af 
estimat og konfidensintervaller:
```{r}

```


```{r}
data <- tribble(
~model, ~log.estimate, ~log.conf.low, ~log.conf.high, ~estimate, ~conf.low, ~conf.high, ~p.value,
"A",          -0.685,        -0.895   ,   -0.475  ,    0.504  ,  0.409  ,   0.622, 1.68e-10,
"B",          -0.0526,       -0.420   ,    0.315   ,   0.949  ,  0.657  ,   1.37,  7.79e-1,
"C",          -0.0864 ,      -0.457   ,    0.284   ,   0.917  ,  0.633  ,   1.33,  6.47e-1,
"D",          -0.121   ,     -0.587  ,     0.344  ,    0.886  ,  0.556  ,   1.41,  6.09e-1,
"E",          -0.422    ,    -0.882 ,      0.0386 ,    0.656  ,  0.414  ,   1.04,  7.26e-2 
)
```

Det skal vi have plottet:
```{r}
midt <- data %>% 
  ggplot(aes(y = fct_rev(model))) +
  # theme_classic() +
  geom_point(aes(x =log.estimate), shape = 15, size = 3) +
  geom_linerange(aes(xmin = log.conf.low, xmax = log.conf.high)) +
  labs(x = "log hazard ratio") +
  coord_cartesian(ylim=c(1,6), xlim=c(-1,.5)) +
  geom_vline(xintercept = 0, linetype = "dotdash") +
  annotate("text", x = -.32, y = 6, label = "OK") +
  annotate("text", x = 0.25, y = 6, label = "ikke så godt")
midt
```
Det er det plot vi vil have i midten, så det gemmer vi.

Så har vi noget vi vil se til venstre for det plot:
```{r}
data %>% 
  
```


{% include links.md %}